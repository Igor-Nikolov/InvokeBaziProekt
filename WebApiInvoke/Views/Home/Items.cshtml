
@{
    ViewBag.Title = "Items";
}

<div class="row">
    <div class="col-md-8">
        <table class="table">
            <thead>
                <tr>
                    <th>ItemName</th>
                    <th>ItemType</th>
                    <th>ItemDescription</th>
                    <th>Price</th>
                </tr>
            </thead>

            <tbody id="tableBody"></tbody>

        </table>
    </div>

    <div class="col-md-4">
        <form class="form-horizontal">
            <div class="form-group">
                <label for="ItemName" class="col-sm-2 control-label">Item Name</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="ItemName" placeholder="Item Name">
                </div>
            </div>

            <div class="form-group">
                <label for="ItemType" class="col-sm-2 control-label">Item Type</label>
                <div class="col-sm-10">
                    <select id="ItemType">
                        <option value="Rare">Rare</option>
                        <option value="Epic">Epic</option>
                    </select>
                    @*<input type="text" class="form-control" id="ItemType" placeholder="Item Type">*@
                </div>
            </div>

            <div class="form-group">
                <label for="ItemDescription" class="col-sm-2 control-label">Item Description</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="ItemDescription" placeholder="Item Description">
                </div>
            </div>

            <div class="form-group">
                <label for="ItemPrice" class="col-sm-2 control-label">Item Price</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="ItemPrice" placeholder="Item Price">
                </div>
            </div>

            <div class="form-group">
                <label for="GameName" class="col-sm-2 control-label">Game Name</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="GameName" placeholder="Game Name">
                </div>
            </div>

            <div class="form-group">
                <label for="UserID" class="col-sm-2 control-label">User ID</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="UserID" placeholder="User ID">
                </div>
            </div>

            <div class="form-group">
                <label for="ItemArtistUserName" class="col-sm-2 control-label">ItemArtistUserName</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="ItemArtistUserName" placeholder="ItemArtistUserName">
                </div>
            </div>

            <div class="form-group">
                <label for="WorkShopID" class="col-sm-2 control-label">WorkShopID</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="WorkShopID" placeholder="WorkShopID">
                </div>
            </div>


            <div class="form-group">
                <div class="col-sm-offset-2 col-sm-10">
                    <button type="button" id="addItem" class="btn btn-success">Add Item</button>
                </div>
            </div>
        </form>

    </div>

</div>





@section scripts{
    <script>

            $(function () {
                $.get("/api/Items", function (data) {
                    console.log(data);

                    var tableBody = $("#tableBody");

                    $.each(data, function (index, value) {
                        var tr = $("<tr></tr>");

                        var td = $("<td >" + value.ItemName + " </td>");
                        tr.append(td);

                        var td = $("<td >" + value.ItemType + " </td>");
                        tr.append(td);

                        td = $("<td >" + value.ItemDescription + " </td>");
                        tr.append(td);

                        td = $("<td >" + value.ItemPrice + " </td>");
                        tr.append(td);

                        tableBody.append(tr);

                    });

                });


                $("#addItem").on("click", function () {
                    var item = {};
                    item.ItemName = $("#ItemName").val();
                    item.ItemType = $("#ItemType").val();
                    item.ItemDescription = $("#ItemDescription").val();
                    item.ItemPrice = $("#ItemPrice").val();
                    item.GameName = $("#GameName").val();
                    item.UserID = $("#UserID").val();
                    item.ItemArtistUserName = $("#ItemArtistUserName").val();
                    item.WorkShopID = $("#WorkShopID").val();

                    console.log(item);

                    $.post("/api/Items", item, function (data) {
                        console.log(data);
                        location.reload();
                    });

                })
            });

    </script>

}

